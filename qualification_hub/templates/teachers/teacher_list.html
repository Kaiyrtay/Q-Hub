{% extends "base.html" %}

{% block content %}
<h1>Teachers List</h1>

{% if teachers_grouped %}
    {% for department, teachers in teachers_grouped %}
    <h2>Department: {{ department.name }}</h2>
    <ul>
        {% for teacher in teachers %}
        <li>
            <!-- Link to the teacher's detail view -->
            <a href="{% url 'teachers:detail' teacher.pk %}">
                {{ teacher.full_name }} - {{ teacher.role }}
            </a>
            (Appointed: {{ teacher.appointed_date }})
        </li>
        {% endfor %}
    </ul>
    {% endfor %}
{% else %}
    <p>No teachers found.</p>
{% endif %}

<h2>Teachers without Departments</h2>

{% if without_departments_teachers %}
    <ul>
    {% for teacher in without_departments_teachers %}
        <li>{{ teacher.full_name }} - No Department <a href="{% url 'teachers:update' teacher.pk%}">Edit</a></li>
    {% endfor %}
    </ul>
{% else %}
    <p>No teachers are currently without departments.</p>
{% endif %}

<!-- Link to create a new teacher -->
<p>
    <a href="{% url 'teachers:create' %}">Add New Teacher</a>
</p>

{% endblock %}
